================================================
+                   README                     +
================================================

StrangeBrew Java - 2.0.0
(c)2000-2007 Drew Avis - drew.avis@gmail.com

Thank you for downloading and trying StrangeBrew Java.

This file contains:
* What is this?
* Recipes at bodensatz.com
* Running StrangeBrew Java
* Extra help for running on Linux
* Setting the look and feel
* Files in this release
* Required JRE
* Known Issues (bugs)
* Reporting Bugs
* What's New in this release?
* Roadmap
* Building the project
* Contributors
* Copyrights and Licenses

===============
 What is this?
===============

This is a "release candidate" release of StrangeBrew Java, which means 
it's feature-complete, and is pretty stable.  If you find bugs, please
report them via the Sourceforge bug tracker, or email 
bugs@strangebrew.ca.

StrangeBrew Java is a Java port of the popular Windows homebrewing
software, StrangeBrew (www.strangebrew.ca).

NOTE: We've changed the numbering of Java releases to 2.0, based on 
the idea that this is a continuation of the Windows version 1.8.


========================
Recipes at bodensatz.com
========================

There is a repository of StrangeBrew recipes available for viewing and
download at www.bodensatz.com/sb, hosted by Alan McKay.  Please feel free
to download recipes to open with StrangeBrew Java.  

==========================
 Running StrangeBrew Java
==========================

Running StrangeBrew:
1. Unzip the sb_XXX.zip file (where XXX is the latest version, eg: "beta1").
Be sure to preserve the directory structure.
2. Type "java -jar StrangeBrew_fat.jar" at the command line.  Under Windows,
you can right-click this file, select "Open With > " and select a Java
installation. You can also just double-click the file, if ".jar" files
are associated with javaw.exe.  There's probably a Mac/Linux way to do this, 
but I don't know what it is.

NOTE: StrangeBrew loads data (ingredients, styles, etc) from:
src/ca/strangebrew/data/
When you unzip the file, be sure to preserve directory names, so
that StrangeBrew can find this data.

===============================
Extra help for running on Linux
===============================

These are notes from Scott Alfter via rec.crafts.brewing:

1) Make sure CONFIG_BINFMT_MISC is enabled in the kernel (built-in or
   module)...look in Executable file formats/Emulations -> Kernel support
   for MISC binaries.
2) Add the following to /etc/fstab:
   binfmt_misc /proc/sys/fs/binfmt_misc binfmt_misc defaults 0 0
3) Create /usr/bin/jexec with the following contents and make it executable
   by everybody:
   #!/bin/sh
   java -jar $*
4) Add the following to whatever script your distro provides for local
   customization (in Gentoo, it's /etc/conf.d/local.start):
   echo ':jarexec:M::PK\x03\x04::/usr/bin/jexec:' >/proc/sys/fs/binfmt_misc/register

When you reboot (or if you execute the preceding from a root prompt), you
can chmod 755 strangeBrew_fat.jar and then run it with the following:

./strangeBrew_fat.jar

NOTE: At least one person has experienced problems running StrangeBrew on Fedora
using their 1.4.2 JRE, which is the GNU gcj.  The problem was solved by usin the
1.5 JRE from Sun.  

=========================
Setting the Look and Feel
=========================

The Java Swing library (which StrangeBrew uses for its user interface) supports
a "pluggable look and feel" (LAF) -- meaning you can easily change the appearance 
of Swing applications to suit your own tastes.  

(Some betas of StrangeBrew used the JGoodies Looks LAF, but I removed
it as the default to give users more control over how the application looks).

Very nice look and feels are available on-line from several sources.  Here are 
a few of my favourites for StrangeBrew:
* JGoodies Looks: http://javootoo.l2fprod.com/plaf/jgoodies/index.php
* Liquid L&F: https://liquidlnf.dev.java.net/
* Synthetica L&F: http://www.javasoft.de/jsf/public/products/synthetica
* Tonic L&F: http://www.digitprop.com/p.php?page=toniclf

Download the .jar file you'd like to try, and put it in your Java home directory under
/lib/ext.

You can set the Look and Feel in a couple of ways:

1. From the Command-line:
Use the -Dswing.defaultlaf= option when starting the application.
Here's an example of starting StrangeBrew using the Synthetica LAF:
java -Dswing.defaultlaf=de.javasoft.plaf.synthetica.SyntheticaStandardLookAndFeel -jar strangebrew_fat.jar

The "de.javasoft.plaf.synthetica.SyntheticaStandardLookAndFeel" bit is the full class 
name of the Look And Feel -- you'll have to read the documentation for each LAF to find 
out the proper text to put here

2. Using swing.properties:
You can set the default LAF for all Java Swing applications by editing the swing.properties
file in your $JAVA_HOME/lib directory.  You need to add two lines for your new LAF, and
change the default line.  Here's an example of the new & changed lines using the Tonic
LAF:
swing.installedlaf.tonic.name = Tonic
swing.installedlaf.tonic.class = com.digitprop.tonic.TonicLookAndFeel
swing.defaultlaf=com.digitprop.tonic.TonicLookAndFeel

Now start StrangeBrew as you would normally, and it should use the new LAF.

==========
Files 
==========

The file you downloaded should contain these files (at least):
  * Strangebrew_fat.jar: a Fat Jar file which you can run (see above).  This
    file also contains the complete Java source for the application.  To
    view the source, decompress this file with an archive utility.
  * gpl.txt: the GPL license this software is distributed under
  * readme.txt: this file
  * src/ca/strangebrew/data: data files and the xslt files required 
    for exporting HTML and printing.  You can modify the xslt files if 
    you want to customize the look of the HTML.
  * help/: help files.  These files are under development.
  * recipes/: example recipe files in various formats.    
  * lib/: support files and libraries for the application from third parties.  
    Open each .jar file to view its particular license.


============
Required JRE
============

You require a Java Runtime Environment (JRE) on your system to run
StrangeBrew.  It should run with versions 1.4 and up; I'm using
1.5.06. (See http://java.sun.com/j2se/1.5.0/index.jsp).  StrangeBrew has
been tested and runs on Linux, MacOS-X, and Windows.  MacOS-X users may 
have to install the one-jar library from http://one-jar.sourceforge.net/.

============
Known Issues
============

* When importing recipes from StrangeBrew for Windows (1.8 or earlier),
fermentables that are sugars are incorrectly considered "grains".  Their
gravity contribution is calculated using the recipe efficiency, rather than
100%.  You should uncheck the "M" (for mashed) column, which indicates that
the ingredient is a sugar.  This applies to all sugar-type fermentables, such
as honey, DME, LME, maple syrup, and sugars.

==============
Reporting Bugs
==============

We're using the Sourceforge tracking feature to track bugs.  Please go to 
www.sourceforge.net/projects/strangebrew and click on "bugs" to view a list
of reported bugs.  If you've found one that's not there, please report it!

==========
What's New
==========

2.0.0
--------
Bugs Fixed:
- Mash ratio and ratio units are now properly displayed.
- After storing ingredients from an imported recipe, the database is no longer corrupted.
- Malt and hop drop-downs behave better (Bugs 1580524 and 1511954).
- Selecting a date now permanently changes it (Bug 1581203).
- The comments scrollbar now behaves correctly.
- File extensions don't keep multiplying every time you open the Save/SaveAs/Export dialogs.
- The Min column in the hops table is now handled correctly.
- The style dropdown now displays from the top of the list, rather than the bottom, for an empty style (Bug 1493269).


2.0.rc1
--------
New Features:
- StrangeBrew no longer uses the JGoodies Look And Feel by default, as this was
  causing some refresh issues on older versions of Mac OSX.  Instead, you can set
  the LAF yourself. (See the "Setting the Look And Feel" section above).
- You can now set the bottom of temp ranges used to determine mashout and sparge
  steps.  The defaults are 161F for mashout, and 170F for sparge.  This means that
  when you add a mashout step, it uses the middle of the range (161 + 170 / 2, or
  165.5F) when you add a mashout step, and if you change the start temp to <161, it
  becomes a different step type.  You can adjust these numbers to suit your mashing
  preferences.
- More and better StrangeBrew Java-specific help.  
- New Print toolbar button.

Bugs Fixed:
- FWH, mash hop, and dry hop IBU values are now correctly calculated.
- The strangebrew.ini file is now saved and read from the correct location on 
  non-Windows machines.
- HTML export now works again on non-Windows machines.  

2.0.b7
--------
New Features:
- You can now apply default mash schedules on the Mash tab to quickly load
  a popular schedule.  You can also save the current schedule to the list of
  defaults.  You can edit the /data/mashdefaults.csv file by hand to add or 
  remove a default schedule.
- The Resize Recipe dialog now allows you to also convert hops and fermentables
  (Bug 1489903).
- New potential extract calculator.  
- You can now add sparge steps to a mash schedule.  Add a step, and change the 
  type to "sparge".  If you add more than one sparge step, it's automatically
  considered a batch sparge, and correct additions are calculated.  
- You can now set the parameters for a thick and thin decoction on the 
  settings tab.
- You can now add cereal mash steps to a mash schedule.  Add a step, and change the
  method to "cereal mash".  Enter the weight of the grain used in the cereal mash.
  Other values will update accordingly.  Note: the temperature of the step is adjusted
  if the cereal mash addition brings the step above the targe temp.  Try
  decreasing the weight and adjusting the temperature until you get the values you
  want.  
- New Refractometer Utility lets you peform various calculations with readings
  from a refractometer.  

Bugs Fixed:
- You can now specify a default boil time on the Preferences Dialog (Bug 1493270)
- Style tab now displays correct SRM value when you're using EBC colour (Bug 1497989)
- You can now set various mash defaults on the Preferences dialog (Bug 1489256)
- You can now set boil units (C or F) as well as boil temp on the Preferences
  dialog (Bug 1489250)
- Cost tab now re-calculates correctly when values change (Bug 1493994)
- Final beer volume shown on cost tab now matches volume shown on water tab (Bug 1493294)
- BU:GU ratio is now displayed correctly on the Style panel (Bug 1493283).
- Dilution panel is now updated when you first open a recipe (Bug 1492475).
- Setting pre-boil amount now correctly updates post-boil amount.
- Changing mash temp units to C now correctly converts tun loss (Bug 1492220).
- Yeast now imports in BeerXML recipes. (Note: if there's more than one yeast
  listed, only the last is imported w/ the recipe).
- Find toolbar button now works (Bug 1489274).  
- Water panel numbers now aligned (Bug 1493293).
- On the preferences dialog, when you select a constant evaporation rate, the
  units are correctly displayed as the current default recipe volume units 
  (Bug 1493263).
- Removed the extra note area on the notes tab (Bug 1493286).
- Malts with a weight of 0 are correctly displayed as being 0% (Bug 1493276).  
- Malt and hop amounts are rounded to 2 decimal places instead of 1 (Bug 1493281).
- Preferences are saved in the right place on non-Windows machines.
- Misc ingredient table column widths are now nicer (Bug 1493284).
- %alc, ibu, colour method combos are wider so text isn't cut off (Bug 1489271).
- Switching between % and constant evaporation doesn't redraw the Preferences
  tab. (Bug 1493266)
- Mash tab now shows step volume and temp. (Bug 1489258)  

Beta 0.6
--------
New Features:
- New File > Copy to Clipboard sends the recipe to the system clipboard, so you can
  easily paste it into another application (such as an email message).
- Database files are now backed up before new ingredients are added.
- Hop and Fermentables tables are tweaked for easier viewing of ingredient names.
- The Fermentables table now has indicators for "Steep" and "Mashed".  A "Steeped" grain
  can be used in a partial mash or extract session by steeping in warm water - for example,
  crystal malt.  Mashed malts must be mashed.  If a fermentable is neither steeped nor
  mashed, it is considered a sugar, and is calculated as contributing 100% of its 
  potential.
- New BU:GU indicator on the Style tab (Bug 1489262).  
- File > Print now launches a web browser with a printable recipe output.
- Help now launches a web browser with some useless help.

Bugs Fixed:
- Numbers are now formatted according to local settings, which fixes a NumberFormatException
  on startup for some regional settings. 
- New notes now have a default date (current date), which prevents a crash when saving
  the recipe (Bug 1489273 & 1489269).  
- You can now specify the total target weight in different units (Bug 1489275).
- Date fields now have a date picker widget (Bug 1489264).
- The comments area is now smaller on the Misc tab (Bug 1489254).  
- Cost and carb boxes are larger on the Prefs dialog (Bug 1489251).
- You can now set the evaporation default value on the Prefs dialog (Bug 1489248).
- Various temperatures now convert correctly when you change the temp units 
  (Bug 1489257 and 1489279).
- Styles now sorted alphabetically (Bug 1490617).  
- Batch size now imports correctly.
- Hop and Fermentables now convert their amount and cost when you change the units.


Beta 0.5.1
----------
- Made compatible with 1.4 JREs.
- Water and mash tabs are now updated appropriately when data changes.

Beta 0.5
--------
- Some menu items now have keyboard shortcuts and pretty icons.
- You can now set default units for hops, malts, and volume, as well as default
  batch size.
- StrangeBrew now remembers its window size and location when you re-start.  
- You can now set the malt and hops units with a drop-down in the totals area.
- "New" ingredients are now detected when you open a recipe.  You can choose to
  add them permanently to your existing ingredient databases.  NOTE: this is currently
  just a comparison between the ingredient name and the list in the database, so 
  you could end up with two nearly identical ingredients (eg "pils malt" and 
  "pilsner malt").
  
Fixed in Beta 0.5:
- Hop and fermentable costs are calculated by using the units for the ingredient,
  not oz and lbs.
- Mash table now displays temps to only 1 decimal when you convert between F and C.
- The colour patch now displays correctly when the colour method is set to EBC.
- The colour patch now uses new RBG settings when you close the Preferences dialog.
- When you select "Save" or "Save As...", StrangeBrew now suggests a file name, and
  adds ".xml" to the file name for you.
- Fermentables that are not mashed or steeped are now read correctly from a saved
  file (bug 1483173).
- SB 1.8 and earlier recipes now import correctly (bug 1483523).
- XML entities are now saved correctly in descriptions (bug 1483143).    
- The misc. ingredients in Promash recipes are now read.
- Values no longer are "jumping" around when you click in different fields on the 
  water tab.
- XML import is improved so that malt and hop names aren't occasionally truncated.  


Beta 0.4
--------
- You can now import Promash and BeerXML (BeerSmith) recipes.  Just select
  the file from the "Open" dialog.  Note: not all Promash data is imported. 
  This is a short list of items not read: misc ingredients; decoction steps;
  style data; water details; custom mash schedules.
  BeerXML files can contain multiple recipes; using File > Open opens just
  the last recipe in the file.  When you point the Find dialog at a directory
  containing a BeerXML file with multiple recipes, all the recipes show up in the
  list.  Use this dialog to select other recipes in a BeerXML file.
- The cost panel is now fully implemented.  
- The colour preferences are now fully implemented.  Depending on your system,
  one of RGB calculation methods may work better than the other.
- New Resize Dialog to scale your recipe. Note: With some IBU estimation methods
  (Tinseth and Garetz), IBUs change slightly on resize - this will be fixed in 
  a future release.
- Example recipes and data files are now located two different locations.  
- The UI now uses the JGoodies Plastic3D Look and Feel.


  
=========
 Roadmap
=========

Features on the "TODO List":
- mash tun thermal mass
- hop scaling
- real application help (not the SB Win version)
- save / load mash profiles
- specify mash temp ranges
- cereal mash

Planned StrangeBrew Java Pro Features:
- water profiling
- carbonation
- inventory tracking
- brewday timeline generation
- brew sessions (vs recipes)
- saved mash schedules
- alternate malt/hop selection dialog
- ingredient database editing

(StrangeBrew Java will be released under a "dual-license": a free 
Open Source version and a commercial "Pro" version that will 
include some additional functionality.)

Comments or questions should be directed to drew.avis@gmail.com.

====================
Building the project
====================

Complete StrangeBrew Java source is included in the strangebrew_fat.jar file.
StrangeBrew Java source is also available via CVS via an annonymous pserver 
connection (see http://sourceforge.net/cvs/?group_id=121177 for more information).

I'm building the project in Eclipse, which is freely available at eclipse.org.  
Once you've un-archived the source from the jar file (or obtained it from cvs), you
can import it as a new project into Eclipse.  You'll need to:
- add the 3rd party .jar files in /lib to the project libraries
- add an appropriate Sun JRE (1.4+) to the project libraries, if one is not already
  selected

That should be all you need to build and run the program.

============
Contributors
============

The following people have contributed to the development of this 
program:
* Mike Charlton - SWT gui development / Java consulting
* Chris Cook - xslt development
* Andy Davison - testing
* Mike Gibson - testing and the splash screen / logo
* Kris Henderson (Zymurgist) - preferences coding
* Don Kelly - Promash recipe format decoding
* Colin Kilburn - testing / bug fixes
* Jason Landry - database updates
* Jeroen Wouters - bug fixes

==========
Copyrights
==========

Parts of this program are copyright by:
        Copyright (C) 2002-2004 Roedy Green 
        (CSVReader and CSVWriter classes)
        Copyright (C) Copyright (c) 2003-2004 Werner Randelshofer
        (Splash and SplashWindow classes)
        Copyright (c) 2001-2006 JGoodies Karsten Lentzsch. All rights reserved.
        (JGoodies Look and Feel)
        Copyright (c) 2005-2006, Michael Baranov
        (Microba library)

=======
License
=======

        Copyright (C) 2006  Drew Avis

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
    
    See the gpl.txt file for more information.
    

